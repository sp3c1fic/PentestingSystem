using System.Net;
using System.Text.RegularExpressions;
using PentestingSystem.Core.Contracts;

namespace PentestingSystem.Core.Services;

public class VisitorService : IVisitorService

{   public string? GetVisitorIp()
    {
        try
        {
            var externalIp = string.Empty;
            externalIp = new WebClient().DownloadString("http://checkip.dyndns.org/");
            externalIp = (new Regex(@"\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}"))
                .Matches(externalIp)[0].ToString();

            Console.WriteLine(externalIp);
            return externalIp;
        }
        catch { return null; }
    }

}