@model WhoIsFormModel;
<style>

    .container {
        border-radius: 10px;
    }

    h1 {
        text-align: center;
        color: #333;
    }

    form {
        display: flex;
        justify-content: center;
        margin-bottom: 20px;
    }

    input[type="text"] {
        padding: 10px;
        border: 2px solid #007bff;
        border-radius: 5px 0 0 5px;
        width: 70%;
        font-size: 16px;
        outline: none;
    }

    button {
        padding: 10px 20px;
        border: none;
        background-color: #007bff;
        color: #fff;
        border-radius: 0 5px 5px 0;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s ease;
    }

        
    button:hover {
        background-color: #0056b3;    
    }

</style>

<div>
    <div class="container mt-5">
        <h1 class="text-light">Whois Lookup</h1>
        <p class="text-light border-top-1 mt-3">Enter an IP address to check who owns it and retrieve associated information such as registration date, location, and network details.</p>
        <form id="whoisForm" class="mt-3" method="post">
           
            <input asp-for="@Model.Domain" type="text" id="domainInput" placeholder="Enter domain name" class="w-100">
            <span class="text-danger"></span>
            <button asp-controller="WhoIs" asp-action="GetWhoIs" type="submit" id="lookup">Lookup</button>
            <span asp-validation-for="@Model.Domain"></span>
        </form>
        <p class="text-light"><i class="fa fa-map-marker" aria-hidden="true"></i> Your ip adress is: <span class="text-light text-decoration-underline">192.128.172</span></p>
    </div>

</div>


<script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
        crossorigin="anonymous">
</script>
<script>


    $.get("WhoIs/GetWhoIs", function (data) {
        renderWhoIsData(data);
    });

    function renderWhoIsData(data) {
        const jsonData = JSON.parse(data);

        const resultContainer = document.getElementById('resultContainer');
        resultContainer.innerHTML = '<pre>' + JSON.stringify(jsonData, null, 2) + '</pre>';
    }
    
</script> 