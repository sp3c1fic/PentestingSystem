
@model DNSLookupFormModel
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DNS Lookup</title>
    
    <style>
        .dns-lookup-wrapper {
            background-color: rgba(0, 0, 0, 0.5);
            border: 1px solid black;
            border-radius: 5px;
            width: auto;
            box-shadow: 0px 0px 10px 5px rgba(0, 0, 0, 0.5);
            margin: auto;
            height: 410px;
        }
        
         h1 {
                    text-align: center;
                }
        
                h3 {
                    position: relative;
                    left:  20px;
                    margin-bottom: 20px;
                }
                
                label {
                    display: block;
                    margin-bottom: 10px;
                }
        
                .dns-domain {
                    width: 300px;
                    padding: 10px;
                    border: 1px solid #ccc;
                    border-radius: 5px;
                    font-size: 16px;
                    outline: none; /* Remove default outline */
                }
        
                .dns-domain:focus {
                    border-color: #030000; /* Change border color on focus */
                }
                
                .dns-domain,
                        select {
                            padding: 10px;
                            border: 1px solid #ccc;
                            border-radius: 5px;
                            font-size: 16px;
                            outline: none;
                            /* Add common styles for text input and select */
                        }
                
                        .dns-domain:focus,
                        select:focus {
                            border-color: #030000;
                        }
                
                        select {
                            /* Customize dropdown arrow */
                            appearance: none;
                            -webkit-appearance: none;
                            -moz-appearance: none;
                            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/></svg>');
                            background-repeat: no-repeat;
                            background-position: right 10px center;
                            padding-right: 30px; /* Space for arrow */
                            cursor: pointer;
                            width: 300px;
                        }
                        
               .dns-domain {
                    width: 900px;
               }
        
                button {
                    padding: 10px 20px;
                    background-color: rgb(47,50,52);
                    color: #fff;
                    border: none;
                    border-radius: 5px;
                    font-size: 16px;
                    cursor: pointer;
                    transition: background-color 0.3s ease;
                }
        
                button:hover {
                    background-color: #030000; /* Darker shade on hover */
                   
                }
        
        .info-span {
            display: block;
            margin-top: 15px;
        }
         
         .bottom-dns-div {
            position: relative;
            left: 22px;
         }
         
         .dns-description-wrapper {
            background-color: rgba(0, 0, 0, 0.5);
            border: 1px solid black;
            border-radius: 5px;
            box-shadow: 0px 0px 10px 5px rgba(0, 0, 0, 0.5);
            color: #f3f3f3;
         }
       
           /* Style for the container */
           .record-types-container {
               background-color: transparent;
               padding: 10px;
               border-radius: 8px;
               margin-bottom: 20px;
               position: relative;
               left: 12px;
           }
       
           /* Style for the anchor links */
           .record-types-container input {
               display: inline-block;
               padding: 5px 10px;
               margin-right: 10px;
               background-color: #2f3234;
               color: #fff;
               text-decoration: none;
               border-radius: 5px;
               transition: background-color 0.3s ease;
           }
       
           /* Hover effect for anchor links */
           .record-types-container input:hover {
               background-color: #030000;
           }
       
           /* Style for the heading inside the container */
           .record-types-container h4 {
               margin-bottom: 10px;
           }
           
            .record-type-btn {
                   margin-right: 10px;
                   margin-bottom: 10px;
                   transition: all 0.3s ease;
               }
           
               /* Active state for the record type buttons */
               .record-type-btn.active {
                   background-color: rgb(3,0,0);
                   color: #fff;
               }
       
           /* Responsive styling for smaller screens */
           @@media (max-width: 576px) {
               .record-types-container input {
                   margin-bottom: 5px;
               }
           }
    </style>
</head>
<body>

<div class="dns-lookup-wrapper mt-5">
    <h3 class="text-warning mt-2">Enter a domain name to perform a DNS lookup:</h3>
    
    <form id="dnsForm" method="post">
        <div class="d-flex justify-content-lg-around">
            <div>
                <label asp-for="@Model.DomainName" class="text-light fw-bolder">Enter Valid Domain Name:</label>
                <input asp-for="@Model.DomainName" class="dns-domain" type="text" id="domainName" name="domainName" placeholder="www.example.com" required>
            </div>
            <div>
                <label for="dnsServer" class="text-light fw-bolder">DNS Server:</label>
                <select asp-for="@Model.DnsServer" id="dnsServer" name="dnsServer">
                    <option asp-for="@Model.DnsServer" value="8.8.8.8">Google DNS (8.8.8.8)</option>
                    <option asp-for="@Model.DnsServer" value="1.1.1.1">Cloudflare DNS (1.1.1.1)</option>
                    <option asp-for="@Model.DnsServer" value="208.67.222.222">OpenDNS (208.67.222.222)</option>
                    <!-- Add more DNS server options as needed -->
                </select>
            </div>
        </div>
        <div class="record-types-container">
            <h4 class="text-light">Record Type: </h4>
            @foreach (var recordType in Model.DnsRecordTypes)
            {
                <input asp-for="@Model.Type" type="button" class="record-type-btn btn btn-secondary rounded-pill" value="@recordType">
            }
        </div>
        <div class="bottom-dns-div">
            <span class="text-light mt-3 info-span">Enter Domain URL and Select DNS Record Type above, or Select "ALL" to Fetch All DNS Records.</span>
            <button asp-controller="DNSLookup" asp-action="FetchDnsRecords" type="submit" class="mt-2">Lookup</button>
            <span class="text-light mt-3 info-span">Related Tools</span>
            <!-- list of related tools would go here -->
        </div>
    </form>
    

</div>

<partial name="_RelatedTools"/>
<partial name="_DNSLookupResults" model="@new DnsRecordServiceModel()"/>


<div id="loadingSpinner" style="display: none;font-size: xx-large" class="text-light mt-5">
    <i class="fa fa-spinner fa-spin"></i> Fetching records ...
</div>



<div class="mt-5 dns-description-wrapper">
    
    <h1>DNS Lookup Tool Description</h1>

    <p>
        The DNS Lookup Tool is a web-based utility that allows you to query DNS (Domain Name System) records for a specified domain name. It provides valuable information about various DNS record types associated with a domain.
    </p>

    <div class="feature-section">
        <h2 class="section-heading">Key Features:</h2>
        <ul>
            <li>Retrieve <span class="highlight">A</span>, <span class="highlight">AAAA</span>, <span class="highlight">MX</span>, <span class="highlight">CNAME</span>, <span class="highlight">TXT</span>, <span class="highlight">NS</span>, and <span class="highlight">SOA</span> records</li>
            <li>Supports custom DNS server selection</li>
            <li>Easy-to-use interface</li>
        </ul>
    </div>

    <div class="usage-section">
        <h2 class="section-heading">How to Use:</h2>
        <ol>
            <li>Enter the domain name in the input field.</li>
            <li>Select the desired DNS record type from the dropdown menu.</li>
            <li>Click the <span class="highlight">Lookup</span> button to perform the DNS query.</li>
            <li>View the results displayed below the form.</li>
        </ol>
    </div>

    <div class="benefits-section">
        <h2 class="section-heading">Benefits:</h2>
        <ul>
            <li>Gain insights into a domain's DNS configuration.</li>
            <li>Verify DNS records for troubleshooting purposes.</li>
            <li>Identify mail servers (MX records), aliases (CNAME records), and more.</li>
        </ul>
    </div>
</div>
<script
    src="https://code.jquery.com/jquery-3.7.1.js"
    integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
    crossorigin="anonymous">
</script>

@*THIS HAS TO GO INTO A SEPARATA FILE BABABA *@

<script>
    $(document).ready(function () {
        $(".dns-results-wrapper").hide();
        $("#dnsForm").submit(function (event) {
            event.preventDefault();
            $(".dns-results-wrapper").hide();
            
            $('#loadingSpinner').show();    
            $.ajax({
                              url: 'http://localhost:5052/DNSLookup/FetchDnsRecords',
                              observe: "response",
                              headers: {
                                    'Access-Control-Allow-Origin': '*'
                              },
                              type: 'POST',
                              crossDomain: true,
                              data: $(this).serialize(),
                              success: function(data) { 
                                  
                                $('#loadingSpinner').hide();
                                $('.dns-results-wrapper').html(data).show();
                                return -1;
                              },
                              error: function() {
                                console.log("error");
                                $('#loadingSpinner').hide();
                              },
            });
        });
        
        $('.record-type-btn').on('click', function (e) {
            e.preventDefault();
            $('.record-type-btn').removeClass('active');
            $(this).addClass('active');
            
        });
    });
</script>


</body>
</html>
